<ion-header>

</ion-header>

<ion-content style="background-color: #e7f0f4">
  <img id="background-USC" src="http://viterbivoices.usc.edu/wp-content/uploads/2017/08/USC.jpg">
  <div id="color-over-image"></div>
    <p id="header" style="text-align: center">&nbsp;&nbsp;&nbsp;&nbsp; Home     <ion-icon name="log-out" style="color: white; float: right;" (click)="logOut()"></ion-icon></p>

  <div id="student-info-box"></div>

  <img src="../../assets/imgs/defaultProfile.png" style="width: 22%; margin-left: auto; margin-right: auto; display: block;"/>
  
  
  <div *ngIf="userInfo">
      <p class='student-info' id='student-name'>{{userInfo['firstName'] + ' ' + userInfo['lastName']}}</p>
      <p class='student-info' id='student-univ'>{{userInfo['school']}}</p>
  </div>

  <div *ngIf="!userInfo">
      <p class='student-info' id='student-name'>You</p>
      <p class='student-info' id='student-univ'>Your School</p>
  </div>

  <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 1em;">
    <img class="menu-option" src="../../assets/imgs/luggage.png" (click)="changeLayout(0)" style=" height: 2.5em; padding-right: 6%;"/>
    <img class="menu-option" src="../../assets/imgs/12points.png" (click)="changeLayout(1)" style=" height: 4em; padding-left: 6%; padding-right: 6%; border-right: 2px solid gray; border-left: 2px solid gray;"/>
    <img class="menu-option" src="../../assets/imgs/envelope.png" (click)="changeLayout(2)" style="height: 2.5em; padding-left: 6%;"/>
  </div>

  <div id="ask_question" *ngIf="layout === 'question'">
    <div *ngIf="jobs.length === 0">
      <h3>No available jobs! Great job! :D</h3>
    </div>
    <div *ngIf="jobs.length != 0">
      <div *ngFor="let job of jobs" style="border-color: black;" (click)="print('hello'); openJob(job)">
        <ion-card id="card" style="border-radius: 5px; padding: 0.5em;">
          <p class="conversation-title" style="font-weight: bold; font-size: 18px;"> {{job.title}} </p>
          <p class="conversation-description" style="font-size: 12px;"> &nbsp; &nbsp; {{job.description}} </p>
        </ion-card>
      </div>
    </div>
  </div>

  <div id="points" *ngIf="layout === 'points'">
    <table id="shop">
      <tr class="flex-container">
        <td style="padding-right: 20px; padding-bottom: 5px;"><img class="menu-option" src="../../assets/imgs/comboMeal.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
        <td style="width: 2px; background-color: #BBB"></td>
        <td style="padding-left: 20px"><img class="menu-option" src="../../assets/imgs/12points.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
      </tr>
      <tr class="flex-container">
        <td style="padding-right: 20px; padding-bottom: 5px;"><img class="menu-option" src="../../assets/imgs/comboMeal.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
        <td style="width: 2px; background-color: #BBB"></td>
        <td style="padding-left: 20px"><img class="menu-option" src="../../assets/imgs/12points.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
      </tr>
      <tr class="flex-container">
        <td style="padding-right: 20px;  padding-bottom: 5px;"><img class="menu-option" src="../../assets/imgs/comboMeal.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
        <td style="width: 2px; background-color: #BBB"></td>
        <td style="padding-left: 20px"><img class="menu-option" src="../../assets/imgs/collectButton.png" (click)="changeLayout(1)" style=" height: 4em; "/></td>
      </tr>
    </table>
  </div>

  <div id="inbox" *ngIf="layout === 'inbox'">
    <div *ngIf="conversations.length === 0">
      <h3>No Replies Yet :|</h3>
    </div>
    <div *ngIf="conversations.length != 0">
      <div *ngFor="let conversation of conversations" style="border-color: black;" (click)="openMessage(conversation)">
        <ion-card id="card" style="border-radius: 5px; padding: 0.5em;">
          <p class="conversation-title" style="font-weight: bold; font-size: 18px;"> {{conversation.title}} </p>
          <p class="conversation-description" style="font-size: 12px;"> &nbsp; &nbsp; {{conversation.description}} </p>
        </ion-card>
      </div>
    </div>
  </div>

  <div id="ask_question" *ngIf="layout === 'view_job'">
    <table>
      <tr style="height: 2em;">
        <td>Title:</td>
        <td>{{viewJobTitle}}</td>
      </tr>
      <tr style="height: 2em;">
        <td>Description:</td>
        <td>{{viewJobDescription}}</td>
      </tr>
      <tr>
        <td>Response:</td>
        <td><textarea style="border-radius: 5px;" [(ngModel)]="this.response" rows="5"></textarea></td>
      </tr>
      <tr style="height: 2em;">
        <td><button id="send_question" (click)="changeLayout(0)">Cancel</button></td>
        <td><button id="send_question" (click)="match()">Send</button></td>
      </tr>
    </table>
  </div>


</ion-content>
